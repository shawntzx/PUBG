--- 
title: "PUBG"
author: "Zixiang Tang & Yuwen Zhang"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
---
--- 
title: "PUBG"
author: "Zixiang Tang & Yuwen Zhang"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
---
```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```

# Introduction

## Background
For this project, We've decided to do something different: I am an avid lovers of video games and are especially passionate about the game PlayerUnknown’s Battleground, so I decide to analyze data from that game.

![Graph from https://www.theverge.com/2021/3/31/22360204/pubg-lite-shutdown-free-to-play](pubg_pic1.png){#id .class width=50% height=50%}

## Game Intro
➔ PlayerUnknown’s Battleground, or PUBG in the following, is a first/third-person shooter battle royale style game that pits 100 players on a large island where players or teams fight to the last one remains.<br>
➔ Players are airdropped onto the island where they can scavenge buildings to collect weapons, ammo, armor, first-aid, and other resources.<br>
➔ Players strategize their game plan by either fighting or hiding until they become the last person or team surviving.<br>
➔ A blue zone will appear randomly later into the game and players must remain outside the blue zone to avoid extra damage from the zone. The blue zone will zoom in every few minutes to corral players closer and closer together and the damage of staying in the blue zone will increase more and more.

<!--chapter:end:index.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Data sources

We've found a dataset of over 720,000 competitive matches on Kaggle (https://www.kaggle.com/skihikingkevin/pubg-match-deaths), which is scraped from a game tracker website (https://pubg.op.gg/).

The dataset has two parts, one is kill_match_stats_final, which records every death that occurred within the 720k matches, the other is agg_match_stats, which contains each match's meta information and summarizes player statistics (as provided by PUBG). The death dataset tracks each death’s weapon, killer name, killer place, killer position, victim name, victim place, victim position, and death time, etc. The aggregate dataset includes various aggregated statistics such as player kills, player damage, player distance ride, player distance walk, player team, and player team placement, etc.

We used the last two datasets of both kill and match stats, and analyzed games on the Erangel map in single player mode. 

The kill data set contains the following variable:

`kill_by`: method/weapon of killing<br>
`killer_name`: player name of the killer<br>
`killer_placement`: killer final ranking of the game<br>
`killer_position_x`: killer x-coordinate on the map, ranging from 0 to 800000<br>
`killer_position_y`: killer y-coordinate on the map, ranging from 0 to 800000<br>
`map`: map of the game, there are currently four maps in PUBG, which are Erangel, Miramar, Sanhok, and Vikendi<br>
`match_id`: unique identification of the game, which can be mapped to the match dataset<br>
`time`: death time, measured by seconds<br>
`victim_name`: player name of the victim<br>
`victim_placement`: victim final ranking of the game<br>
`victim_position_x`: victim x-coordinate on the map, ranging from 0 to 800000<br>
`victim_position_y`: victim y-coordinate on the map, ranging from 0 to 800000

The aggregated data set contains the following variable:<br>

`date`: date of the game<br>
`game_size`: total amount of players in that game<br>
`match_id`: unique identification of the game, which can be mapped to the kill data set<br>
`match_mode`: the perspective of the game, there are two kinds of perspective in PUBG, tpp (third-person-perspective) and fpp (first-person-perspective)<br>
`party_size`: amount of players in each group, there are three modes in party size, single (1 player/team), duo (up to 2 players/team), and squad (up to 4 players/team)<br>
`player_assists`: player assists in each game, assist means causing damage but not death to the other players<br>
`player_dbno`: play down but not out in each game, down but not out means down but got revived by teammate (only applicable in non-single mode)<br>
`player_dist_ride`: distance that player traveled through vehicles<br>
`player_dist_walk`: distance that player traveled by walking<br>
`player_dmg`: total player damage caused on other players<br>
`player_kills`: total people killed by that player<br>
`player_name`: -<br>
`player_survive_time`: total time passed before player dies/wins<br>
`team_id`: -<br>
`team_placement`: ranking of that team in that game

Note:<br>
➔ There are several maps in PUBG including Erangel, Miramar, Sanhok, and Vikendi. Erangel is the oldest and more popular map.<br>
➔ There are three player modes including single (1 player per team), duo (up to 2 players per team), and squad (up to 4 players per team)

![Erangel map. Graph from the Kaggle dataset](erangel.jpg){#id .class width=50% height=50%}

<!--chapter:end:02-data.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Data transformation

```{r}
library(dplyr)
```

There is not much cleaning required for the dataset. We kept only the rows and columns we need in order to shrink down the size of the dataset.
```{r}
kill_stat = rbind(read.csv('kill_match_stats_final_3.csv'),
                  read.csv('kill_match_stats_final_4.csv'))
kill_stat = kill_stat %>% 
  filter(map == 'ERANGEL') %>%
  select(c('match_id', 'time', 'killed_by', 'killer_placement', 'killer_name', 
           'killer_position_x', 'killer_position_y', 'victim_position_x', 'victim_position_y'))
```

```{r}
agg_stat = rbind(read.csv('agg_match_stats_3.csv'),
                 read.csv('agg_match_stats_4.csv'))
agg_stat = agg_stat %>% 
  filter(party_size == 1) %>%
  select(c('match_id', 'player_survive_time', 'player_kills',
           'player_dist_ride', 'player_dist_walk', 'team_placement'))
```

<!--chapter:end:03-cleaning.Rmd-->


# Missing values

Placeholder



<!--chapter:end:04-missing.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Results

<!--chapter:end:05-results.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Interactive component



<!--chapter:end:06-interactive.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Conclusion


<!--chapter:end:07-conclusion.Rmd-->

